<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GNDU HUB</title>
  <!-- Basic Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.gstatic.com https://cdn.jsdelivr.net; connect-src 'self' https://firestore.googleapis.com https://www.googleapis.com https://securetoken.googleapis.com https://www.gstatic.com https://identitytoolkit.googleapis.com; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self' data:; object-src 'none'; base-uri 'self';">
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  
  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Environment Configuration is loaded from .env file -->
</head>
<body>
  <!-- Login Screen -->
  <div class="login-container" id="loginScreen">
    <div class="login-header">
      <h1>ğŸ” Secure Login</h1>
      <p>GNDU HUB</p>
    </div>
    <div class="login-form">
      <form id="loginForm" onsubmit="event.preventDefault(); handleLogin(); return false;">
        <div class="form-group">
          <label for="loginEmail">Email Address</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" placeholder="Enter your password" required autocomplete="current-password">
        </div>
        <button type="submit" class="login-btn" id="loginBtn">Login</button>
        <div class="guest-login-section">
          <div class="divider">
            <span>or</span>
          </div>
          <button type="button" class="guest-btn" id="guestBtn" onclick="handleGuestLogin()">
            ğŸ‘¤ Continue as Student (Guest)
          </button>
          <small class="guest-info">View previous attendance sessions without starting new ones</small>
        </div>
        <div id="loginMessage"></div>
      </form>
    </div>
  </div>

  <!-- Teacher Dashboard -->
  <div class="container" id="teacherDashboard" style="display: none;">
    <div class="header">
      <h1>GNDU HUB</h1>
      <p>Department of Computer Engineering & Technology</p>
      <div class="dashboard-tabs">
        <button class="tab-btn active" onclick="showTab('attendance')">ğŸ“‹ Attendance</button>
        <button class="tab-btn" onclick="showTab('resources')">ğŸ“š Resources</button>
        <button class="tab-btn" onclick="showTab('miscellaneous')">ğŸ“„ Miscellaneous</button>
      </div>
    </div>

    <div class="setup-section" id="setupSection">
      <div class="setup-grid">
        <div class="form-group">
          <label for="attendanceDate">Select Date</label>
          <input type="date" id="attendanceDate" required>
        </div>

        <div class="form-group">
          <label for="subjectCode">Subject</label>
          <select id="subjectCode" required>
            <option value="">Select Subject</option>
            <option value="CEL1020">CEL1020 - Engineering Mechanics</option>
            <option value="MEL1021">MEL1021 - Engineering Graphics & Drafting</option>
            <option value="MTL1001">MTL1001 - Mathematics I</option>
            <option value="PHL1083">PHL1083 - Physics</option>
            <option value="PBL1021">PBL1021 - Punjabi (Compulsory)</option>
            <option value="PBL1022">PBL1022 - Basic Punjabi</option>
            <option value="HSL4000">HSL4000 - Punjab History & Culture</option>
          </select>
        </div>

        <div class="form-group">
          <label for="secretCode">Secret Code</label>
          <input autocomplete="off" type="text" id="secretCode" class="secret-code-input" placeholder="Set the Secret Code" required maxlength="20">
          <small style="color: var(--text-color); opacity: 0.7; margin-top: 5px; display: block;">Students must enter this exact code to mark attendance</small>
        </div>
      </div>

      <div class="firebase-status" id="firebaseStatus">
        ğŸ”„ Connecting to Firebase...
      </div>

      <div class="loading-message" id="loadingMessage">
        ğŸ“„ Loading student data...
      </div>

      <button class="start-btn" id="startBtn" disabled>
        Start Attendance Session
      </button>
    </div>

    <div class="attendance-section" id="attendanceSection">
      <div class="current-class-info" id="classInfo">
        <!-- Session info will be displayed here -->
      </div>
      
      <div class="link-section">
        <h3>ğŸ”— Student Check-in Link</h3>
        <p>Share this link with students to mark their attendance</p>
        <div class="link-container">
          <div class="session-url" id="sessionUrl" onclick="copyLink()" title="Click to copy link"></div>
          <div class="share-buttons">
            <button class="share-btn" onclick="copyLink()">
              ğŸ“‹ Copy Link
            </button>
            <button class="share-btn" onclick="shareWhatsApp()">
              ğŸ“± Share on WhatsApp
            </button>
            <button class="share-btn" onclick="expireSessionManually()" style="background-color: #e74c3c; color: white;">
              â° Expire Session
            </button>
          </div>
        </div>
        <div class="expiry-info" id="expiryInfo" style="margin-top: 10px; color: #666; font-size: 14px;">
          <!-- Expiry time will be displayed here -->
        </div>
        <div class="session-expired" id="sessionExpired" style="display: none; margin-top: 10px; padding: 10px; background-color: #ffebee; color: #c62828; border-radius: 4px; font-weight: bold;">
          âš ï¸ This attendance session has expired. Students can no longer mark attendance.
        </div>
      </div>
      
      <div class="stats" id="statsSection">
        <div class="stat-card">
          <div class="stat-number" id="totalStudents">0</div>
          <div class="stat-label">Total Students</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="presentCount">0</div>
          <div class="stat-label">Present</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="absentCount">0</div>
          <div class="stat-label">Absent</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="attendancePercent">0%</div>
          <div class="stat-label">Attendance</div>
        </div>
      </div>

      <div class="controls">
        <div class="search-box">
          <input autocomplete="off" type="text" id="search" placeholder="Search students by name or father's name...">
        </div>
        <div class="share-buttons">
          <button class="share-btn" id="printBtn" title="Print current view">
            ğŸ–¨ï¸ Print
          </button>
          <button class="share-btn" id="exportBtn" title="Export current view to Excel (.xlsx)">
            ğŸ“¥ Export to Excel
          </button>
        </div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th id="rollHeader">Roll Number</th>
              <th id="studentIdHeader">Student ID</th>
              <th id="nameHeader">Name</th>
              <th id="fatherHeader">Father's Name</th>
              <th id="statusHeader">Status</th>
              <th id="timeHeader">Check-in Time</th>
            </tr>
          </thead>
          <tbody id="studentTable"></tbody>
        </table>
      </div>
      <div class="scroll-hint">ğŸ’¡ Scroll to view all columns â€¢ Click column headers to sort â€¢ Use "Mark Present" button for manual attendance</div>
    </div>

    <!-- Subject Resources Management Section -->
    <div class="resources-section" id="resourcesSection" style="display: none;">
      <div class="resources-header">
        <h2>ğŸ“š Subject Resources Management</h2>
        <p>Add and manage notes, previous year questions, and video resources for each subject</p>
      </div>

      <div class="resources-controls">
        <div class="form-group">
          <label for="resourceSubjectSelect">Select Subject</label>
          <select id="resourceSubjectSelect" onchange="loadSubjectResources()">
            <option value="">Select Subject</option>
            <option value="CEL1020">CEL1020 - Engineering Mechanics</option>
            <option value="MEL1021">MEL1021 - Engineering Graphics & Drafting</option>
            <option value="MTL1001">MTL1001 - Mathematics I</option>
            <option value="PHL1083">PHL1083 - Physics</option>
            <option value="PBL1021">PBL1021 - Punjabi (Compulsory)</option>
            <option value="PBL1022">PBL1022 - Basic Punjabi</option>
            <option value="HSL4000">HSL4000 - Punjab History & Culture</option>
          </select>
        </div>
      </div>

      <div class="resources-content" id="resourcesContent" style="display: none;">
        <div class="resource-tabs">
          <button class="resource-tab-btn active" onclick="showResourceTab('notes')">ğŸ“ Notes</button>
          <button class="resource-tab-btn" onclick="showResourceTab('pyqs')">ğŸ“‹ PYQs</button>
          <button class="resource-tab-btn" onclick="showResourceTab('videos')">ğŸ¥ Videos</button>
          <button class="resource-tab-btn" onclick="showResourceTab('books')">ğŸ“– Books</button>
        </div>

        <!-- Notes Section -->
        <div class="resource-tab-content" id="notesTab">
          <div class="add-resource-form">
            <h3>ğŸ“ Add New Note</h3>
            <div class="form-row">
              <input type="text" id="noteTitle" placeholder="Note title">
              <input type="text" id="noteAuthor" placeholder="Author">
            </div>
            <div class="form-row">
              <input type="url" id="noteUrl" placeholder="Note URL (Google Drive, OneDrive, etc.)">
              <button onclick="addResource('notes')" class="add-btn">Add Note</button>
            </div>
          </div>
          <div class="resources-list" id="notesList"></div>
        </div>

        <!-- PYQs Section -->
        <div class="resource-tab-content" id="pyqsTab" style="display: none;">
          <div class="add-resource-form">
            <h3>ğŸ“‹ Add Previous Year Question Paper</h3>
            <div class="form-row">
              <input type="text" id="pyqTitle" placeholder="PYQ title (e.g., 2023 Mid-Sem)">
              <input type="text" id="pyqYear" placeholder="Year">
            </div>
            <div class="form-row">
              <select id="pyqType">
                <option value="">Select Type</option>
                <option value="mid-sem">Mid Semester</option>
                <option value="end-sem">End Semester</option>
                <option value="sessional">Sessional Test</option>
                <option value="quiz">Quiz</option>
              </select>
              <input type="url" id="pyqUrl" placeholder="PYQ URL">
              <button onclick="addResource('pyqs')" class="add-btn">Add PYQ</button>
            </div>
          </div>
          <div class="resources-list" id="pyqsList"></div>
        </div>

        <!-- Videos Section -->
        <div class="resource-tab-content" id="videosTab" style="display: none;">
          <div class="add-resource-form">
            <h3>ğŸ¥ Add Video Resource</h3>
            <div class="form-row">
              <input type="text" id="videoTitle" placeholder="Video title">
              <input type="text" id="videoDescription" placeholder="Description">
            </div>
            <div class="form-row">
              <input type="url" id="videoUrl" placeholder="Video URL (YouTube, Drive, etc.)">
              <button onclick="addResource('videos')" class="add-btn">Add Video</button>
            </div>
          </div>
          <div class="resources-list" id="videosList"></div>
        </div>

        <!-- Books Section -->
        <div class="resource-tab-content" id="booksTab" style="display: none;">
          <div class="add-resource-form">
            <h3>ğŸ“– Add New Book</h3>
            <div class="form-row">
              <input type="text" id="bookTitle" placeholder="Book Title">
              <input type="text" id="bookAuthor" placeholder="Author(s)">
            </div>
            <div class="form-row">
              <input type="url" id="bookUrl" placeholder="Book URL (Google Drive, OneDrive, etc.)">
              <button onclick="addResource('books')" class="add-btn">Add Book</button>
            </div>
          </div>
          <div class="resources-list" id="booksList"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Miscellaneous Section (Admin & Guest) -->
  <div class="miscellaneous-section" id="miscellaneousSection" style="display: none;">
    <div class="container">
      <div class="misc-header">
        <h2>ğŸ“„ Miscellaneous Documents</h2>
        <p>Important academic documents and schedules</p>
      </div>

      <div class="misc-grid">
        <div class="misc-card">
          <div class="misc-card-header">
            <h3>ğŸ“… Time Table</h3>
            <button class="edit-btn" onclick="editDocument('timetable')" title="Edit Time Table">âœï¸</button>
          </div>
          <div class="misc-card-content">
            <p>Current semester time table</p>
            <div class="document-embed">
              <img src="Time Table.png" alt="Time Table" class="document-image" onclick="openDocument('Time Table.png')">
            </div>
            <button onclick="openDocument('Time Table.png')" class="view-btn">View Full Size</button>
          </div>
        </div>

        <div class="misc-card">
          <div class="misc-card-header">
            <h3>ğŸ“š Syllabus</h3>
            <button class="edit-btn" onclick="editDocument('syllabus')" title="Edit Syllabus">âœï¸</button>
          </div>
          <div class="misc-card-content">
            <p>Complete course syllabus</p>
            <div class="document-embed">
              <div class="pdf-placeholder" onclick="viewPDF('Syllabus.pdf')">
                <div class="pdf-icon">ğŸ“„</div>
                <div class="pdf-text">Click to view Syllabus PDF</div>
              </div>
            </div>
            <button onclick="viewPDF('Syllabus.pdf')" class="view-btn">Open PDF</button>
          </div>
        </div>

        <div class="misc-card">
          <div class="misc-card-header">
            <h3>ğŸ“† Academic Calendar</h3>
            <button class="edit-btn" onclick="editDocument('calendar')" title="Edit Academic Calendar">âœï¸</button>
          </div>
          <div class="misc-card-content">
            <p>Academic Calendar 2025-26</p>
            <div class="document-embed">
              <div class="pdf-placeholder" onclick="viewPDF('Academic Calender 2025-26.pdf')">
                <div class="pdf-icon">ğŸ“…</div>
                <div class="pdf-text">Click to view Academic Calendar PDF</div>
              </div>
            </div>
            <button onclick="viewPDF('Academic Calender 2025-26.pdf')" class="view-btn">Open PDF</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Student Guest Dashboard -->
  <div class="container" id="studentGuestDashboard" style="display: none;">
    <div class="header">
      <h1>GNDU HUB</h1>
      <p>Department of Computer Engineering & Technology</p>
      <div class="user-info">
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
      <div class="dashboard-tabs">
        <button class="tab-btn active" onclick="showGuestTab('attendance')">ğŸ“‹ Attendance</button>
        <button class="tab-btn" onclick="showGuestTab('resources')">ğŸ“š Resources</button>
        <button class="tab-btn" onclick="showGuestTab('miscellaneous')">ğŸ“„ Miscellaneous</button>
      </div>
    </div>

    <!-- Guest Attendance Tab -->
    <div class="guest-tab-content" id="guestAttendanceTab">
      <div class="guest-info-banner">
        <h3>ğŸ“š Previous Attendance Sessions</h3>
        <p>View attendance records from previous sessions. You cannot create new sessions or mark attendance manually.</p>
      </div>

      <div class="controls">
        <div class="search-box">
          <input autocomplete="off" type="text" id="guestSearch" placeholder="Search students by name or father's name...">
        </div>
        <div class="share-buttons">
          <button class="share-btn" id="guestPrintBtn" title="Print current view">
            ğŸ–¨ï¸ Print
          </button>
          <button class="share-btn" id="guestExportBtn" title="Export current view to Excel (.xlsx)">
            ğŸ“¥ Export to Excel
          </button>
        </div>
      </div>

      <div class="session-selector">
        <div class="form-group">
          <label for="guestDateSelect">Select Date:</label>
          <input type="date" id="guestDateSelect" onchange="loadGuestAttendance()">
        </div>
        <div class="form-group">
          <label for="guestSubjectSelect">Select Subject:</label>
          <select id="guestSubjectSelect" onchange="loadGuestAttendance()">
            <option value="">Choose a subject...</option>
            <option value="CEL1020">CEL1020 - Engineering Mechanics</option>
            <option value="MEL1021">MEL1021 - Engineering Graphics & Drafting</option>
            <option value="MTL1001">MTL1001 - Mathematics I</option>
            <option value="PHL1083">PHL1083 - Physics</option>
            <option value="PBL1021">PBL1021 - Punjabi (Compulsory)</option>
            <option value="PBL1022">PBL1022 - Basic Punjabi</option>
            <option value="HSL4000">HSL4000 - Punjab History & Culture</option>
          </select>
        </div>
        <div id="guestSessionStatus" class="session-status" style="display: none;"></div>
      </div>

      <div class="stats" id="guestStatsSection" style="display: none;">
        <div class="stat-card">
          <div class="stat-number" id="guestTotalStudents">0</div>
          <div class="stat-label">Total Students</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="guestPresentCount">0</div>
          <div class="stat-label">Present</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="guestAbsentCount">0</div>
          <div class="stat-label">Absent</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="guestAttendancePercent">0%</div>
          <div class="stat-label">Attendance</div>
        </div>
      </div>

      <div class="table-container" id="guestTableContainer" style="display: none;">
        <table>
          <thead>
            <tr>
              <th id="guestHeaderRoll" class="sortable-header">Roll Number</th>
              <th id="guestHeaderId" class="sortable-header">Student ID</th>
              <th id="guestHeaderName" class="sortable-header">Name</th>
              <th id="guestHeaderFather" class="sortable-header">Father's Name</th>
              <th id="guestHeaderStatus" class="sortable-header">Status</th>
              <th id="guestHeaderTime" class="sortable-header">Check-in Time</th>
            </tr>
          </thead>
          <tbody id="guestStudentTable"></tbody>
        </table>
      </div>
      <div class="scroll-hint" id="guestScrollHint" style="display: none;">ğŸ’¡ Scroll to view all columns â€¢ Click column headers to sort</div>
    </div>

    <!-- Guest Resources Tab -->
    <div class="guest-tab-content" id="guestResourcesTab" style="display: none;">
      <div class="guest-info-banner">
        <h3>ğŸ“š Resources</h3>
        <p>Access notes, previous year questions, and video resources for each subject.</p>
      </div>

      <div class="resources-controls">
        <div class="form-group">
          <label for="guestResourceSubjectSelect">Select Subject</label>
          <select id="guestResourceSubjectSelect" onchange="loadGuestSubjectResources()">
            <option value="">Select Subject</option>
            <option value="CEL1020">CEL1020 - Engineering Mechanics</option>
            <option value="MEL1021">MEL1021 - Engineering Graphics & Drafting</option>
            <option value="MTL1001">MTL1001 - Mathematics I</option>
            <option value="PHL1083">PHL1083 - Physics</option>
            <option value="PBL1021">PBL1021 - Punjabi (Compulsory)</option>
            <option value="PBL1022">PBL1022 - Basic Punjabi</option>
            <option value="HSL4000">HSL4000 - Punjab History & Culture</option>
          </select>
        </div>
      </div>

      <div class="guest-resources-content" id="guestResourcesContent" style="display: none;">
        <div class="resource-tabs">
          <button class="resource-tab-btn active" onclick="showGuestResourceTab('notes')">ğŸ“ Notes</button>
          <button class="resource-tab-btn" onclick="showGuestResourceTab('pyqs')">ğŸ“‹ Previous Year Questions</button>
          <button class="resource-tab-btn" onclick="showGuestResourceTab('videos')">ğŸ¥ Videos</button>
          <button class="resource-tab-btn" onclick="showGuestResourceTab('books')">ğŸ“– Books</button>
        </div>

        <!-- Guest Notes Section -->
        <div class="resource-tab-content" id="guestNotesTab">
          <div class="resources-list" id="guestNotesList"></div>
        </div>

        <!-- Guest PYQs Section -->
        <div class="resource-tab-content" id="guestPyqsTab" style="display: none;">
          <div class="resources-list" id="guestPyqsList"></div>
        </div>

        <!-- Guest Videos Section -->
        <div class="resource-tab-content" id="guestVideosTab" style="display: none;">
          <div class="resources-list" id="guestVideosList"></div>
        </div>

        <!-- Guest Books Section -->
        <div class="resource-tab-content" id="guestBooksTab" style="display: none;">
          <div class="resources-list" id="guestBooksList"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Guest Miscellaneous Tab -->
  <div class="guest-tab-content" id="guestMiscellaneousTab" style="display: none;">
    <div class="guest-info-banner">
      <h3>ğŸ“„ Academic Documents</h3>
      <p>Important schedules and academic information</p>
    </div>

    <div class="misc-grid">
      <div class="misc-card">
        <div class="misc-card-header">
          <h3>ğŸ“… Time Table</h3>
        </div>
        <div class="misc-card-content">
          <p>Current semester time table</p>
          <div class="document-embed">
            <img src="Time Table.png" alt="Time Table" class="document-image" onclick="openDocument('Time Table.png')">
          </div>
          <button onclick="openDocument('Time Table.png')" class="view-btn">View Full Size</button>
        </div>
      </div>

      <div class="misc-card">
        <div class="misc-card-header">
          <h3>ğŸ“š Syllabus</h3>
        </div>
        <div class="misc-card-content">
          <p>Complete course syllabus</p>
          <div class="document-embed">
            <div class="pdf-placeholder" onclick="viewPDF('Syllabus.pdf')">
              <div class="pdf-icon">ğŸ“„</div>
              <div class="pdf-text">Click to view Syllabus PDF</div>
            </div>
          </div>
          <button onclick="viewPDF('Syllabus.pdf')" class="view-btn">Open PDF</button>
        </div>
      </div>

      <div class="misc-card">
        <div class="misc-card-header">
          <h3>ğŸ“† Academic Calendar</h3>
        </div>
        <div class="misc-card-content">
          <p>Academic Calendar 2025-26</p>
          <div class="document-embed">
            <div class="pdf-placeholder" onclick="viewPDF('Academic Calender 2025-26.pdf')">
              <div class="pdf-icon">ğŸ“…</div>
              <div class="pdf-text">Click to view Academic Calendar PDF</div>
            </div>
          </div>
          <button onclick="viewPDF('Academic Calender 2025-26.pdf')" class="view-btn">Open PDF</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Student Check-in Interface -->
  <div class="checkin-container" id="studentCheckin" style="display: none;">
    <div class="checkin-header">
      <h2>âœ“ Mark Attendance</h2>
      <p>GNDU HUB</p>
      <p id="checkinClassInfo"></p>
    </div>
    <form id="studentCheckinForm" onsubmit="event.preventDefault(); submitAttendance(); return false;" class="checkin-form">
      <div class="location-status checking" id="locationStatus">
        ğŸ“ Checking your location...
      </div>

      <div class="form-group">
        <label for="secretCodeInput">ğŸ”‘ Secret Code</label>
        <input autocomplete = "off" type="text" id="secretCodeInput" class="secret-code-input" placeholder="Enter the secret code" required maxlength="20">
        <small style="color: #666; margin-top: 5px; display: block;">Ask your teacher for the secret code</small>
      </div>

      <div class="form-group">
        <label for="studentId">Roll Number</label>
        <input autocomplete = "off" type="text" id="studentId" placeholder="Enter your Roll Number" required>
      </div>
      <div class="form-group">
        <label for="studentName">Full Name</label>
        <input autocomplete = "off" type="text" id="studentName" placeholder="Enter your Full Name" required>
      </div>
      <button type="submit" class="checkin-btn" id="submitBtn" disabled>Mark Me Present</button>
      <div id="checkinMessage"></div>
    </form>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification"></div>

  <!-- Student Details Modal -->
  <div class="modal-overlay" id="studentDetailsModal" style="display: none;">
    <div class="student-card">
      <div class="student-header">
        <button class="close-btn" id="closeStudentDetails">Ã—</button>
        <h2>Student Attendance</h2>
        <div id="studentDetailsName">Loading...</div>
      </div>
      <div class="student-body">
        <div class="meta">
          <div><strong>Student ID:</strong> <span id="metaId">-</span></div>
          <div><strong>Father's Name:</strong> <span id="metaFather">-</span></div>
          <div><strong>Overall %:</strong> <span id="overall">-</span></div>
          <div><strong>Total Sessions:</strong> <span id="totalSessions">-</span></div>
        </div>
        <div class="summary">Per-Subject Attendance</div>
        <div class="subject-list" id="subjectList"></div>
      </div>
    </div>
  </div>

  <!-- ExcelJS for native .xlsx export -->
  <script src="https://cdn.jsdelivr.net/npm/exceljs@4.4.0/dist/exceljs.min.js"></script>
  <!-- html2pdf bundle for Android-friendly PDF downloads -->
  <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
  <!-- Firebase configuration is now loaded from env.js -->
  <!-- Load student data -->
  <script src="student.js"></script>
  <!-- Load main script -->
  <script src="script.js"></script>
</body>
</html>